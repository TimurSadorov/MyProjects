@using Index = BeatTim.Pages.Index
@using BeatTim.Pages.Authorization
@using BeatTim.Pages.Navbar
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>@ViewData["Title"]</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"/>
    <link rel="stylesheet" href="~/css/site.css"/>
</head>
<body>
<header>
    <nav class="navbar navbar-expand-xl navbar-dark bg-dark">
        <div class="container-xl w-100">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="#">Главная</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="@Index.PathToPage">Рекомендации</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" asp-page="@ChartBeats.PathToPage">Чарт битов</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" asp-page="@Search.PathToPage">Поиск</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" asp-page="@Subscriptions.PathToPage">Подписки</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" asp-page="@ShoppingCart.PathToPage">Корзина</a>
                    </li>
                    @if (Context.Items[nameof(Admin)] is not null)
                    {
                        <li class="nav-item">
                            <div class="dropleft hover_dropdown" id="dropdown_moderation">
                                <span data-bs-toggle="dropdown"
                                      aria-expanded="false" class="nav-link">
                                    Модерация
                                </span>
                                <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="dropdown_moderation">
                                    <li>
                                        <a class="text-decoration-none text-white hover-grey ms-2" asp-page="@CheckingBeats.PathToPage">
                                            Проверка битов
                                        </a>
                                    </li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li>
                                        <a class="text-decoration-none text-white hover-grey p-2" asp-page="@CheckingComments.PathToPage">
                                            Проверка комментариев
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                    }
                </ul>
            </div>
            <div class="collapse navbar-collapse" id="navbarTogglerDemo01"></div>
            @if (Context.Items[nameof(UserToken)] is null)
            {
                <a href="@Registration.PathToPage">
                    <button type="button" class="btn btn-outline-secondary registration">
                        Регистрация
                    </button>
                </a>
                <a href="@Entry.PathToPage">
                    <button type="button" class="btn btn-outline-secondary">Войти</button>
                </a>
            }
            @if (Context.Items[nameof(UserToken)] is not null)
            {
                <div class="dropleft hover_dropdown" id="dropdown_profile">
                    <svg

                        data-bs-toggle="dropdown"
                        aria-expanded="false"
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        fill="currentColor"
                        class="bi bi-person-circle"
                        viewBox="0 0 16 16">
                        <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                        <path
                            fill-rule="evenodd"
                            d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
                    </svg
                    >
                    <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="dropdown_profile">
                        <li>
                            <a class="text-decoration-none text-white hover-grey ms-2" asp-page="@UserAccount.PathToPage"
                               asp-route-id="@Context.Items[nameof(UserToken)]">
                                Профиль
                            </a>
                        </li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li>
                            <a class="text-decoration-none text-white hover-grey ms-2" asp-page="@UserAccount.PathToPage" asp-route-id="@Context.Items[nameof(UserToken)]"
                               asp-page-handler="Exit">
                                Выйти
                            </a>
                        </li>
                    </ul>
                </div>
            }
        </div>
    </nav>
</header>

<main class="main_page">
    @RenderBody()
</main>

@* <footer class="footer border-top border-dark border-2"> *@
@*     <div class="container-xl"> *@
@*         <div class="footer-container"> *@
@*             <div class="copyright-container"> *@
@*                 <div class="copyright">&copy;Садоров Тимур</div> *@
@*             </div> *@
@*             <div class="contacts-container"> *@
@*                 <a href="https://vk.com/t1sm19" target="_blank"> *@
@*                     <img *@
@*                         src="/img/contacts/vk.png" *@
@*                         class="contact-item vk" *@
@*                         alt="Мой вк"/> *@
@*                 </a> *@
@*                 <a href="https://t.me/T_moon808" target="_blank"> *@
@*                     <img *@
@*                         src="/img/contacts/tg.png" *@
@*                         class="contact-item tg" *@
@*                         alt="Мой тг"/> *@
@*                 </a> *@
@*                 <a href="https://www.instagram.com/_timon808_/" target="_blank"> *@
@*                     <img *@
@*                         src="/img/contacts/inst.png" *@
@*                         class="contact-item inst" *@
@*                         alt="Моя интса"/> *@
@*                 </a> *@
@*             </div> *@
@*         </div> *@
@*     </div> *@
@* </footer> *@

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
<script src="~/js/site.js" asp-append-version="true"></script>
@{ await Html.RenderPartialAsync("_ValidationScriptsPartial"); }

@await RenderSectionAsync("Scripts", required: false)
</body>
</html>